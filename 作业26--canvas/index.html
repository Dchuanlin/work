<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<title></title>
	</head>
	<body>
		<canvas width="500" height="500" style="border:solid 1px red;"></canvas>
		<script>
			var a=document.getElementsByTagName("canvas")[0].getContext("2d")
			var b=new Image()
			b.src="img/t_banner03_500400_xxx1209.jpg"
			b.onload=function(){
				a.arc(250,250,200,0,Math.PI*2);
				a.clip()
				a.drawImage(b,0,0,500,500)
				
				var c=new Date()
				var h=c.getHours()
				
				var m=c.getMinutes()
				h=h+m/60
				var s=c.getSeconds()
				
				
				//分钟刻度
				a.beginPath()
				for(var i=1;i<=60;i++){
					a.save()
					a.translate(250,250)
					a.rotate(Math.PI*2/60*i)
					a.moveTo(0,-200)
					a.lineTo(0,-190)
					a.lineWidth=5
					a.strokeStyle="red"
					a.stroke()
					a.restore()
				}
				a.closePath()
				
				//小时刻度
				a.beginPath()
				for(var i=1;i<=12;i++){
					a.save()
					a.translate(250,250)
					a.rotate(Math.PI*2/12*i)
					a.moveTo(0,-200)
					a.lineTo(0,-180)
					a.lineWidth=5
					a.strokeStyle="red"
					a.stroke()
					a.restore()
				}
				a.closePath()
				
				//时针
				a.beginPath()
				a.save()
					a.translate(250,250)
					a.rotate(Math.PI*2/12*h)
					a.moveTo(0,0)
					a.lineTo(0,-100)
					a.lineWidth=7
					a.strokeStyle="red"
					a.stroke()
				a.restore()
				a.closePath()
				
				//分针
				a.beginPath()
				a.save()
					a.translate(250,250)
					a.rotate(Math.PI*2/60*m)
					a.moveTo(0,0)
					a.lineTo(0,-130)
					a.lineWidth=7
					a.strokeStyle="yellow"
					a.stroke()
				a.restore()
				a.closePath()
				
				//秒针
				a.beginPath()
				a.save()
					a.translate(250,250)
					a.rotate(Math.PI*2/60*s)
					a.moveTo(0,0)
					a.lineTo(0,-160)
					a.lineWidth=7
					a.strokeStyle="blue"
					a.stroke()
				a.restore()
				a.closePath()
		
			}
			setInterval(function(){
				b.onload()
			})
		</script>
	</body>
</html>
